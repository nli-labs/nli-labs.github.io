!DOCTYPE html>
<html lang="en">
    <head>
        <title>Lib Map</title>
        <meta charset="utf-8" />

        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css" />
		 <!--[if lte IE 8]>
		     <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.ie.css" />
		 <![endif]-->


		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<style type="text/css">
		  body {
		  	#map { height: 180px; }
		  }
		  </style>

    </head>  
    <body>
        <h1>A simple map with some markers indicating library locations</h1>

        <h2>Please see also <a href="http://idoivri.github.io/libmap/mapbox-demo.html"> Mapbox Demo we've created!</a></h2>

		<div id="map" style="width: 800px; height: 600px"></div>

		<script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
		<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>

		<script>
			var map = L.map('map').setView([32.083333, 34.8], 13);


			L.tileLayer('http://{s}.tile.cloudmade.com/4a0485a94128467799358b84b66bafc3/997/256/{z}/{x}/{y}.png', {
				attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://cloudmade.com">CloudMade</a>',
				maxZoom: 18
			}).addTo(map);


			$.getJSON("./librarylocations.json", function(data) {
			    var geojson = L.geoJson(data, {
			      onEachFeature: function (feature, layer) {
			        layer.bindPopup(feature.properties.name+"<br>"+feature.properties.address);
			      }
			    });
			    map.fitBounds(geojson.getBounds());
			    
			    geojson.addTo(map);
			  });

		</script>



    </body>
</html>